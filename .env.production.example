# Production Environment Configuration
# Copy this file to .env.production and update with your actual values
# IMPORTANT: Never commit .env.production to version control!

# ===================================
# General Settings
# ===================================
NODE_ENV=production
DOMAIN=your-domain.com

# ===================================
# Database Configuration
# ===================================
DB_USER=multimedia_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_NAME=multimedia_db
DB_PORT=5432

# Database URL (constructed from above values)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@postgres:5432/${DB_NAME}?connection_limit=20&pool_timeout=30

# ===================================
# JWT Configuration
# ===================================
# Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_SECRET_KEY_HERE
JWT_EXPIRATION=86400

# ===================================
# Redis Configuration
# ===================================
REDIS_HOST=redis
REDIS_PORT=6379
# Generate with: openssl rand -base64 32
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD_HERE

# ===================================
# MinIO Object Storage
# ===================================
MINIO_ENDPOINT=minio
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
# Generate strong credentials
MINIO_ROOT_USER=CHANGE_ME_MINIO_USER
MINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD_MIN_8_CHARS
MINIO_USE_SSL=true
MINIO_BUCKET=multimedia

# ===================================
# Meilisearch Configuration
# ===================================
MEILI_HOST=meilisearch
MEILI_PORT=7700
# Generate with: openssl rand -base64 32
MEILI_API_KEY=CHANGE_ME_MEILISEARCH_MASTER_KEY_HERE

# ===================================
# Security
# ===================================
# Generate with: openssl rand -base64 32
HASH_SALT=CHANGE_ME_UNIQUE_SALT_FOR_IP_HASHING

# CORS Origins (comma-separated)
CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com

# ===================================
# Email Configuration (Optional)
# ===================================
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_FROM=noreply@your-domain.com

# ===================================
# Monitoring (Grafana)
# ===================================
GRAFANA_ADMIN_USER=admin
# Generate strong password
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_GRAFANA_PASSWORD

# ===================================
# Backup Configuration
# ===================================
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=multimedia-backups
BACKUP_S3_ENDPOINT=s3.amazonaws.com
# Or use compatible service (DigitalOcean Spaces, Backblaze B2, etc.)
BACKUP_S3_ACCESS_KEY=YOUR_S3_ACCESS_KEY
BACKUP_S3_SECRET_KEY=YOUR_S3_SECRET_KEY

# ===================================
# API Configuration
# ===================================
API_VERSION=v1
BACKEND_PORT=3001
FRONTEND_PORT=3000

# ===================================
# Next.js Configuration
# ===================================
NEXT_PUBLIC_API_URL=https://api.${DOMAIN}/api/v1
NEXT_TELEMETRY_DISABLED=1

# ===================================
# SSL/TLS Configuration
# ===================================
# Email for Let's Encrypt notifications
SSL_EMAIL=admin@your-domain.com
SSL_STAGING=false

# ===================================
# Logging
# ===================================
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs

# ===================================
# Rate Limiting
# ===================================
THROTTLE_TTL=900
THROTTLE_LIMIT=100

# ===================================
# File Upload Limits
# ===================================
MAX_FILE_SIZE=52428800
MAX_FILES=10

# ===================================
# Security Headers
# ===================================
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# ===================================
# Feature Flags (Optional)
# ===================================
ENABLE_SWAGGER_DOCS=false
ENABLE_PLAYGROUND=false
ENABLE_DEBUG_MODE=false

# ===================================
# Third-party Services (Optional)
# ===================================
# Analytics
GOOGLE_ANALYTICS_ID=
# Error tracking
SENTRY_DSN=
# CDN
CLOUDFLARE_ZONE_ID=
CLOUDFLARE_API_TOKEN=
